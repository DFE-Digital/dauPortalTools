% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sc_render_summary.R, R/wn_render_summary.R
\name{wn_render_summary}
\alias{wn_render_summary}
\title{Render Warning Notice Summary Panel}
\usage{
wn_render_summary(region = NULL)

wn_render_summary(region = NULL)
}
\arguments{
\item{region}{Character scalar or \code{NULL}. If provided, metrics are filtered
to this region. If \code{NULL}, metrics are unfiltered. Region values must match
the database column values used in the SQL.}
}
\value{
A \code{shiny.tag} object representing a GOV.UK-styled table suitable for
use in \code{renderUI()}.

A \code{shiny.tag} object representing a GOV.UK-styled table suitable for
use in \code{renderUI()}.
}
\description{
Creates a GOV.UK-styled summary panel displaying three key metrics:
\itemize{
\item Total live TWN records
\item Records updated in the last 30 days
\item Open quality issues
}

Creates a GOV.UK-styled summary panel displaying three key metrics:
\itemize{
\item Total live TWN records
\item Records updated in the last 30 days
\item Open quality issues
}
}
\details{
This UI fragment can be inserted anywhere in a Shiny app (e.g., inside
\code{uiOutput()} / \code{renderUI()}).

The function queries database using \code{DBI::dbGetQuery()} and a
connection from \code{sql_manager()}. It uses \code{glue_sql()} for
safe SQL interpolation. If the query fails, the UI will display \code{NA} values.

Styling is provided by \code{shinyGovstyle} components (\code{gov_layout()},
\code{heading_text()}, \code{govTable()}).

This UI fragment can be inserted anywhere in a Shiny app (e.g., inside
\code{uiOutput()} / \code{renderUI()}).

The function queries database using \code{DBI::dbGetQuery()} and a
connection from \code{sql_manager()}. It uses \code{glue_sql()} for
safe SQL interpolation. If the query fails, the UI will display \code{NA} values.

Styling is provided by \code{shinyGovstyle} components (\code{gov_layout()},
\code{heading_text()}, \code{govTable()}).
}
\examples{
\dontrun{
# --- Minimal Shiny example (no region filter) -------------------
if (interactive()) {
  library(shiny)
  library(shinyGovstyle)

  ui <- fluidPage(
    uiOutput("summary_metrics")
  )

  server <- function(input, output, session) {
    output$summary_metrics <- renderUI({
      wn_render_summary()  # No region filter
    })
  }

  shinyApp(ui, server)
}

# --- Example with region filter -------------------------------
if (interactive()) {
  library(shiny)
  library(shinyGovstyle)

  ui <- fluidPage(
    shinyGovstyle::label_hint("region_hint", "Choose a region (leave blank for all regions)"),
    shinyGovstyle::select_Input(
      inputId      = "region",
      label        = "Select Region",
      select_text  = c("", "North West", "North East", "London"),
      select_value = c("", "North West", "North East", "London")
    ),
    uiOutput("summary_metrics")
  )

  server <- function(input, output, session) {
    output$summary_metrics <- renderUI({
      selected <- if (is.null(input$region) || input$region == "") NULL else input$region
      wn_render_summary(region = selected)
    })
  }

  shinyApp(ui, server)
}
}

\dontrun{
# --- Minimal Shiny example (no region filter) -------------------
if (interactive()) {
  library(shiny)
  library(shinyGovstyle)

  ui <- fluidPage(
    uiOutput("summary_metrics")
  )

  server <- function(input, output, session) {
    output$summary_metrics <- renderUI({
      wn_render_summary()  # No region filter
    })
  }

  shinyApp(ui, server)
}

# --- Example with region filter -------------------------------
if (interactive()) {
  library(shiny)
  library(shinyGovstyle)

  ui <- fluidPage(
    shinyGovstyle::label_hint("region_hint", "Choose a region (leave blank for all regions)"),
    shinyGovstyle::select_Input(
      inputId      = "region",
      label        = "Select Region",
      select_text  = c("", "North West", "North East", "London"),
      select_value = c("", "North West", "North East", "London")
    ),
    uiOutput("summary_metrics")
  )

  server <- function(input, output, session) {
    output$summary_metrics <- renderUI({
      selected <- if (is.null(input$region) || input$region == "") NULL else input$region
      wn_render_summary(region = selected)
    })
  }

  shinyApp(ui, server)
}
}

}
\seealso{
\code{\link[shinyGovstyle]{govTable}}, \code{\link[shinyGovstyle]{select_Input}}

\code{\link[shinyGovstyle]{govTable}}, \code{\link[shinyGovstyle]{select_Input}}
}
